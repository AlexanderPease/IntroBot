function USV_fill_hackpad_url(){$("#post_hackpad_url").val()||$.ajax("/generate_hackpad",{success:function(e){$("#post_hackpad_url").val(e)}})}function USV_setup_tinymce(){if($(".mce-tinymce").length===0){var e="advlist, autolink, autosave, code, fullscreen, link, paste, preview",t="undo redo | bold italic strikethrough bullist numlist | blockquote link unlink | code";if(USV_is_admin){e+=", image, media";t+=", | image | media"}else e+=", charcount";t+=", | fullscreen";/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(t=!1);$("#post_body_raw").tinymce({script_url:"/static/js/tinymce/tinymce.min.js",theme:"modern",width:"100%",height:"300px",valid_elements:USV_tinymce_valid_elements,charcount_max_chars:USV_tinymce_post_char_limit,content_css:"/static/css/tinymce_content.css",menubar:!1,document_base_url:"/",plugins:e,toolbar:t})}}$(function(){var e=$.jPanelMenu({menu:"#mobile-menu",trigger:"#menu-trigger",animated:!1,keyboardShortcuts:!1,closeOnContentClick:!1,beforeOpen:function(){$("#jPanelMenu-menu").css("visibility","visible")}});e.on();$(window).resize(function(){var t=$(window).width();t>768&&e.isOpen()&&e.close()}).resize();$(".header-submit-button, #submit-trigger").magnificPopup({type:"inline",preloader:!1,focus:"#post_title",callbacks:{beforeOpen:function(){$(window).width()<700?this.st.focus=!1:this.st.focus="#name";USV_setup_tinymce();USV_fill_hackpad_url()}}});$("#toggle-hackpad-url").click(function(){$(this).toggleClass("checked");if($(this).hasClass("checked")){USV_fill_hackpad_url();$("#post_has_hackpad").val("true");$("#post_hackpad_url").show()}else{$("#post_has_hackpad").val("");$("#post_hackpad_url").hide()}});$("#toggle-featured").click(function(){$(this).toggleClass("checked")});$("#toggle-deleted").click(function(){$(this).toggleClass("checked")});$(".share-twitter").sharrre({share:{twitter:!0},enableHover:!1,enableTracking:!0,click:function(e,t){e.simulateClick();e.openPopup("twitter")}});$(".share-facebook").sharrre({share:{facebook:!0},enableHover:!1,enableTracking:!0,click:function(e,t){e.simulateClick();e.openPopup("facebook")}});$(".share-googleplus").sharrre({share:{googlePlus:!0},enableHover:!1,enableTracking:!0,urlCurl:"",click:function(e,t){e.simulateClick();e.openPopup("googlePlus")}})});